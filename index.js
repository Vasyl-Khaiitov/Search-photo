import{a as p,i as n,S as d}from"./assets/vendor-h_xsmXee.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const m=p.defaults.API_KEY="49359087-343ead2b9467da8fb57304bcb",f=p.defaults.baseURL="https://pixabay.com/api/";async function g(s){const a={params:{key:m,q:s.trim(),image_type:"photo",orientation:"horizontal",page:1,per_page:15,safesearch:"true"}};return(await p.get(f,a)).data.hits}const u=document.querySelector(".gallery");function y(s=[]){u.innerHTML="";const o=s.map(r=>`<li class="gallery-item">
        <a href="${r.largeImageURL}" class="gallery-item-link">
        <img class="gallery-img" src="${r.webformatURL}" alt="${r.tags}" loading="lazy" />
        </a>
        <div class="text-info">
        <p><b>Likes:</b>${r.likes}</p>
        <p><b>Views:</b>${r.views}</p>
        <p><b>Comments:</b>${r.comments}</p>
        <p><b>Downloads:</b>${r.downloads}</p>
        </div>
        </li>`).join("");u.insertAdjacentHTML("beforeend",o)}let l=null;const h=document.querySelector(".form"),c=document.querySelector(".loader");h.addEventListener("submit",b);function b(s){s.preventDefault();const o=s.currentTarget,{searchText:r}=o.elements,a=r.value.trim();if(!a){n.show({title:"⛔",message:"Please write a search query!",color:"yellow",position:"topRight"});return}c.classList.remove("hidden"),g(a).then(e=>{if(!Array.isArray(e)){console.error("Invalid response structure. Hits is not an array."),n.show({title:"⚠️",message:"Unexpected response format. Please try again later!",color:"red",position:"topRight"});return}if(e.length===0){n.show({title:"❌",message:"Sorry, there are no images matching your search query. Please try again!",color:"red",position:"topRight"}),c.classList.add("hidden");return}y(e),l?l.refresh():l=new d(".gallery a",{caption:!0,captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250}),o.reset()}).catch(e=>{let t="An unexpected error occurred. Please try again later!";e.response?t=`Server Error: ${e.response.data.message||e.message}`:e.request&&(t="Network Error: Failed to reach the server. Please check your internet connection."),n.show({title:"⚠️",message:t,color:"red",position:"topRight"}),console.error("Error:",e.message)}).finally(()=>{c.classList.add("hidden")})}
//# sourceMappingURL=index.js.map
